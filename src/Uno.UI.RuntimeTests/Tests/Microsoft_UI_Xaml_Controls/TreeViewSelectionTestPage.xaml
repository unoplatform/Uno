<Page
    x:Class="Uno.UI.RuntimeTests.Tests.Microsoft_UI_Xaml_Controls.TreeViewSelectionTestPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Uno.UI.RuntimeTests.Tests.Microsoft_UI_Xaml_Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

	<StackPanel>
		<TextBox x:Name="SelectedElementTextBox" Text="{Binding SelectedElement.Name, Mode=TwoWay}" PlaceholderText="This is the Selected Element" x:FieldModifier="public" />

		<TreeView x:Name="SUT"
				  x:FieldModifier="public"
				  ItemsSource="{Binding Elements, Mode=TwoWay}"
				  SelectionChanged="TreeView_SelectionChanged"
                  SelectedItem="{Binding SelectedElement, Mode=TwoWay}"
                  SelectionMode="Single">
			<TreeView.ItemTemplate>
				<DataTemplate x:DataType="local:ElementItem">
					<TreeViewItem IsSelected="{x:Bind IsSelected}"
                             ItemsSource="{x:Bind Children}"
                             Content="{x:Bind Name}"
                             IsExpanded="True"/>
				</DataTemplate>
			</TreeView.ItemTemplate>
		</TreeView>

	</StackPanel>
</Page>
